{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\38066\\\\prog\\\\SPA-projects\\\\src\\\\pages\\\\HomePage.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { List } from \"../components/List\";\nimport { Card } from \"../components/Card\";\nimport { Controls } from \"../components/Controls\";\nimport { ALL_COUNTRIES } from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const HomePage = ({\n  setCountries,\n  countries\n}) => {\n  _s();\n  const [filtredCountries, setFilteredCountries] = useState(countries);\n  const navigate = useNavigate();\n  const handleSearch = (search, region) => {\n    let data = [...countries];\n    if (region) {\n      data = data.filter(c => c.region.includes(region));\n    }\n    if (search) {\n      data = data.filter(c => c.name.toLowerCase().includes(search.toLowerCase()));\n    }\n    setFilteredCountries(data);\n  };\n  useEffect(() => {\n    if (!countries.length) axios.get(ALL_COUNTRIES).then(({\n      data\n    }) => setCountries(data));\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    handleSearch();\n    // eslint-disable-next-line\n  }, [countries]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Controls, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: filtredCountries.map(c => {\n        const countryInfo = {\n          img: c.flags.png,\n          name: c.name,\n          info: [{\n            title: \"Population\",\n            description: c.population.toLocaleString()\n          }, {\n            title: \"Region\",\n            description: c.region\n          }, {\n            title: \"Capital\",\n            description: c.capital\n          }]\n        };\n        return /*#__PURE__*/_jsxDEV(Card, {\n          onClick: () => navigate(`/country/${c.name}`),\n          ...countryInfo\n        }, c.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(HomePage, \"I8k4RH7Hy+z+OaQCbu+h/OmtSRI=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["axios","useState","useEffect","useNavigate","List","Card","Controls","ALL_COUNTRIES","jsxDEV","_jsxDEV","Fragment","_Fragment","HomePage","setCountries","countries","_s","filtredCountries","setFilteredCountries","navigate","handleSearch","search","region","data","filter","c","includes","name","toLowerCase","length","get","then","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","map","countryInfo","img","flags","png","info","title","description","population","toLocaleString","capital","onClick","_c","$RefreshReg$"],"sources":["C:/Users/38066/prog/SPA-projects/src/pages/HomePage.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { List } from \"../components/List\";\r\nimport { Card } from \"../components/Card\";\r\nimport { Controls } from \"../components/Controls\";\r\nimport { ALL_COUNTRIES } from \"../config\";\r\n\r\nexport const HomePage = ({ setCountries, countries }) => {\r\n  const [filtredCountries, setFilteredCountries] = useState(countries);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSearch = (search, region) => {\r\n    let data = [...countries];\r\n\r\n    if (region) {\r\n      data = data.filter((c) => c.region.includes(region));\r\n    }\r\n\r\n    if (search) {\r\n      data = data.filter((c) =>\r\n        c.name.toLowerCase().includes(search.toLowerCase())\r\n      );\r\n    }\r\n\r\n    setFilteredCountries(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!countries.length)\r\n      axios.get(ALL_COUNTRIES).then(({ data }) => setCountries(data));\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    handleSearch();\r\n    // eslint-disable-next-line\r\n  }, [countries]);\r\n\r\n  return (\r\n    <>\r\n      <Controls onSearch={handleSearch} />\r\n      <List>\r\n        {filtredCountries.map((c) => {\r\n          const countryInfo = {\r\n            img: c.flags.png,\r\n            name: c.name,\r\n            info: [\r\n              {\r\n                title: \"Population\",\r\n                description: c.population.toLocaleString(),\r\n              },\r\n              {\r\n                title: \"Region\",\r\n                description: c.region,\r\n              },\r\n              {\r\n                title: \"Capital\",\r\n                description: c.capital,\r\n              },\r\n            ],\r\n          };\r\n\r\n          return (\r\n            <Card\r\n              key={c.name}\r\n              onClick={() => navigate(`/country/${c.name}`)}\r\n              {...countryInfo}\r\n            />\r\n          );\r\n        })}\r\n      </List>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}